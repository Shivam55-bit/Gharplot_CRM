# System Architecture Diagrams

## 1. High-Level Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ADMIN'S PHONE                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Admin App                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚ LoginScreen                                          â”‚         â”‚
â”‚   â”‚ â”œâ”€ Email, Password                                   â”‚         â”‚
â”‚   â”‚ â””â”€ On Login Success:                                 â”‚         â”‚
â”‚   â”‚    â”œâ”€ Get FCM token (automatically)                  â”‚         â”‚
â”‚   â”‚    â””â”€ Send to Backend: POST /api/admin/...           â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                           â†“                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚ EmployeeManagementScreen                             â”‚         â”‚
â”‚   â”‚ â”œâ”€ messaging().onMessage()                           â”‚         â”‚
â”‚   â”‚ â”‚  â””â”€ Listens for FCM notifications                  â”‚         â”‚
â”‚   â”‚ â”‚     â”œâ”€ App Open:  Alert.alert() popup              â”‚         â”‚
â”‚   â”‚ â”‚     â””â”€ App Close: System notification              â”‚         â”‚
â”‚   â”‚ â””â”€ Polling System (when modal open)                  â”‚         â”‚
â”‚   â”‚    â””â”€ Every 2 seconds check for new reminders        â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. Notification Delivery Path

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EMPLOYEE'S PHONE    â”‚
â”‚                      â”‚
â”‚  Create Reminder     â”‚
â”‚  â””â”€ POST /api/...    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ HTTP Request
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         BACKEND SERVER                    â”‚
â”‚                                          â”‚
â”‚  Reminder Creation Endpoint               â”‚
â”‚  â”œâ”€ Save reminder to database             â”‚
â”‚  â”œâ”€ Get admin's FCM token from DB         â”‚
â”‚  â””â”€ Call Firebase Admin SDK               â”‚
â”‚     â””â”€ admin.messaging().send()           â”‚
â”‚        â””â”€ Returns messageId               â”‚
â”‚                                          â”‚
â”‚  FCM Service                              â”‚
â”‚  â””â”€ Sends message via Firebase            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ Firebase Cloud Messaging
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    FIREBASE CLOUD MESSAGING SERVERS       â”‚
â”‚                                          â”‚
â”‚  â”œâ”€ Receives message from backend         â”‚
â”‚  â”œâ”€ Routes to admin's device token        â”‚
â”‚  â”œâ”€ Encrypts and secures                  â”‚
â”‚  â””â”€ Sends to device                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ Push notification
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ADMIN'S PHONE                    â”‚
â”‚                                          â”‚
â”‚  Device receives notification             â”‚
â”‚  â”œâ”€ If app is OPEN:                       â”‚
â”‚  â”‚  â”œâ”€ FCM listener fires: onMessage()    â”‚
â”‚  â”‚  â””â”€ Alert.alert() shows popup          â”‚
â”‚  â”‚                                        â”‚
â”‚  â””â”€ If app is CLOSED:                     â”‚
â”‚     â”œâ”€ Android: System notification       â”‚
â”‚     â”œâ”€ iOS: Banner notification           â”‚
â”‚     â””â”€ User taps â†’ App opens              â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 3. Component Interaction Diagram

```
                    ADMIN LOGIN
                        â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                             â”‚
    adminLogin()                       â”‚
         â”‚                             â”‚
    Email+Password                     â”‚
         â”‚                             â”‚
         â†“                             â”‚
    Backend validates                  â”‚
         â”‚                             â”‚
    Returns token                      â”‚
         â”‚                             â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
         â†“            â†“            â†“   â”‚
    Save token   Save user   Next: Get FCM
                                  â”‚
                                  â†“
                              (NEW) getFCMToken()
                                  â”‚
                              Device token
                                  â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚                                   â”‚
                  â†“                                   â†“
            AsyncStorage.setItem()        Send to backend
            (Local storage)                POST /api/admin/...
                  â”‚                                   â”‚
                  â†“                                   â†“
            Token saved locally      Backend receives
                                    & saves to database
                                             â”‚
                                             â†“
                                        Success!
                                        Navigate to App
```

## 4. Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   EMPLOYEE'S APPLICATION    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€ title: "Follow up call"
           â”œâ”€ clientName: "Mr. Sharma"
           â”œâ”€ reminderDateTime: "2026-01-24T18:03:00Z"
           â””â”€ notes: "Confirm order details"
                     â”‚
                     â†“ (POST request)
                     
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     BACKEND - REMINDER ENDPOINT       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€ Validate input
           â”œâ”€ Save to database
           â”œâ”€ Get admin record
           â”‚  â””â”€ Extract: admin.fcmToken
           â”‚
           â”œâ”€ Prepare FCM message:
           â”‚  â”œâ”€ notification.title: "ğŸ”” New Reminder - Employee Name"
           â”‚  â”œâ”€ notification.body: "Reminder: Follow up call\nClient: Mr. Sharma..."
           â”‚  â””â”€ data:
           â”‚     â”œâ”€ type: "reminder"
           â”‚     â”œâ”€ reminderId: "64a1b2c3..."
           â”‚     â”œâ”€ employeeName: "John"
           â”‚     â””â”€ scheduledTime: "2026-01-24T18:03:00Z"
           â”‚
           â†“ (Call Firebase)
           
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FIREBASE ADMIN SDK CALL            â”‚
â”‚   admin.messaging().send({...})      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“ (Async, returns messageId)
           
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FIREBASE CLOUD MESSAGING NETWORK   â”‚
â”‚   - Validates token                   â”‚
â”‚   - Encrypts payload                  â”‚
â”‚   - Routes to device                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“ (Push notification)
           
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ADMIN'S DEVICE - RECEIVER         â”‚
â”‚                                      â”‚
â”‚ messaging().onMessage() listener     â”‚
â”‚   â”œâ”€ Parse remoteMessage             â”‚
â”‚   â”œâ”€ Extract title, body, data       â”‚
â”‚   â””â”€ Show: Alert.alert(title, body)  â”‚
â”‚                                      â”‚
â”‚ RESULT:                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ ğŸ”” New Reminder - John         â”‚  â”‚
â”‚ â”‚                                â”‚  â”‚
â”‚ â”‚ Reminder: Follow up call       â”‚  â”‚
â”‚ â”‚ Client: Mr. Sharma             â”‚  â”‚
â”‚ â”‚ â° 24/01/2026, 18:03:00        â”‚  â”‚
â”‚ â”‚                                â”‚  â”‚
â”‚ â”‚         [Cancel]  [OK]         â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 5. Polling System (Modal View)

```
Admin opens Employee Reminders Modal
         â”‚
         â”œâ”€ Load current reminders
         â”‚  â””â”€ remindersCount = 3
         â”‚
         â”œâ”€ Start polling useEffect
         â”‚  â””â”€ Sets pollingActive = true
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Polling Loop (Every 2 seconds)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ 1. Check: Is modal open?            â”‚
â”‚    â””â”€ NO â†’ Exit polling             â”‚
â”‚    â””â”€ YES â†’ Continue                â”‚
â”‚                                     â”‚
â”‚ 2. Call: GET /api/reminder/...      â”‚
â”‚    â””â”€ Get all reminders for employeeâ”‚
â”‚                                     â”‚
â”‚ 3. Count: newCount = response.lengthâ”‚
â”‚                                     â”‚
â”‚ 4. Compare:                         â”‚
â”‚    â””â”€ newCount > previousCount?     â”‚
â”‚       â””â”€ YES: NEW REMINDER!         â”‚
â”‚          â””â”€ Show Alert.alert()      â”‚
â”‚          â””â”€ Update previousCount    â”‚
â”‚       â””â”€ NO: No change, wait 2s     â”‚
â”‚                                     â”‚
â”‚ 5. Loop: Wait 2 seconds, repeat     â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
Admin closes modal
         â”‚
         â”œâ”€ Set pollingActive = false
         â”œâ”€ useEffect cleanup fires
         â””â”€ Polling stops âœ“
            (Battery efficient!)
```

## 6. State Management Diagram

```
ADMIN STATE VARIABLES:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  remindersModalVisible: boolean         â”‚
â”‚  â”œâ”€ Tracks if modal is open             â”‚
â”‚  â””â”€ Controls polling start/stop         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  employeeReminders: Reminder[]          â”‚
â”‚  â”œâ”€ List of all employee's reminders    â”‚
â”‚  â””â”€ Updated when new reminder added     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  remindersLoading: boolean              â”‚
â”‚  â”œâ”€ Shows loading spinner               â”‚
â”‚  â””â”€ Only on first load, not during poll â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  previousReminderCount: number          â”‚
â”‚  â”œâ”€ Counts reminders at load time       â”‚
â”‚  â””â”€ Used to detect new reminders        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  pollingActive: boolean                 â”‚
â”‚  â”œâ”€ Enables/disables polling            â”‚
â”‚  â””â”€ Set true when modal opens           â”‚
â”‚     Set false when modal closes         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  selectedEmployee: object               â”‚
â”‚  â”œâ”€ Which employee's reminders we view  â”‚
â”‚  â””â”€ Used for API calls                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 7. Error Handling Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   LOGIN PROCESS          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
        Try:
           â”œâ”€ Get FCM token
           â”œâ”€ Send to backend
           â””â”€ Handle response
                â”‚
                â”œâ”€ Success: âœ… Continue
                â”‚
                â””â”€ Error: âŒ
                    â”œâ”€ (Optional) Log error
                    â”œâ”€ (Don't block) Continue
                    â””â”€ FCM not critical
                       
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NOTIFICATION SENDING     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
        Try:
           â”œâ”€ Get admin's FCM token
           â”œâ”€ Send via Firebase
           â””â”€ Log result
                â”‚
                â”œâ”€ Success: âœ…
                â”‚  â””â”€ Message delivered
                â”‚
                â””â”€ Error: âŒ
                    â”œâ”€ Log error
                    â”œâ”€ Check token validity
                    â”œâ”€ Clear invalid token
                    â””â”€ Continue (notification lost)
                    
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NOTIFICATION RECEIVE     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
        Try:
           â”œâ”€ Parse notification
           â”œâ”€ Show Alert
           â””â”€ Handle user click
                â”‚
                â”œâ”€ Success: âœ…
                â”‚  â””â”€ Alert shown
                â”‚
                â””â”€ Error: âŒ
                    â”œâ”€ Log to console
                    â”œâ”€ Don't crash app
                    â””â”€ Continue normally
```

## 8. Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PRODUCTION ENVIRONMENT                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ADMIN'S PHONE (Running App)                 â”‚    â”‚
â”‚  â”‚  â”œâ”€ Connected to internet                    â”‚    â”‚
â”‚  â”‚  â””â”€ Receives notifications via Firebase      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                       â”‚ FCM Push                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  FIREBASE CLOUD MESSAGING                    â”‚    â”‚
â”‚  â”‚  â”œâ”€ Google's servers                         â”‚    â”‚
â”‚  â”‚  â”œâ”€ Handles message delivery                 â”‚    â”‚
â”‚  â”‚  â””â”€ Queues offline messages                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                       â”‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  BACKEND SERVER (Production)                 â”‚    â”‚
â”‚  â”‚  â”œâ”€ Node.js/Express/similar                  â”‚    â”‚
â”‚  â”‚  â”œâ”€ Firebase Admin SDK                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ Database (MongoDB/SQL)                   â”‚    â”‚
â”‚  â”‚  â””â”€ API endpoints                            â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚  Endpoints:                                  â”‚    â”‚
â”‚  â”‚  â”œâ”€ POST /api/admin/register-fcm-token       â”‚    â”‚
â”‚  â”‚  â”œâ”€ POST /api/reminder/create                â”‚    â”‚
â”‚  â”‚  â””â”€ (others existing)                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                        â”‚
â”‚  Environment Variables:                               â”‚
â”‚  â”œâ”€ GOOGLE_APPLICATION_CREDENTIALS                    â”‚
â”‚  â”œâ”€ FIREBASE_PROJECT_ID                              â”‚
â”‚  â””â”€ DB_URL                                           â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

These diagrams show:
1. **High-level flow** - Complete user journey
2. **Delivery path** - Message from employee to admin
3. **Component interaction** - How parts connect
4. **Data flow** - What data moves where
5. **Polling system** - How modal checking works
6. **State** - What variables track
7. **Error handling** - What happens if something fails
8. **Deployment** - How it's deployed

Use these to understand the complete system! ğŸ¯
